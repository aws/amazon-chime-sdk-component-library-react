(self.webpackChunkamazon_chime_sdk_component_library_react=self.webpackChunkamazon_chime_sdk_component_library_react||[]).push([[3374],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BN:()=>MDXContext,RP:()=>useMDXComponents,gz:()=>withMDXComponents,xA:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./src/components/sdk/MeetingControls/AudioInputVFControl.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/amazon-chime-sdk-js/build/index.js"),lodash_isequal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash.isequal/index.js"),lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_hooks_sdk_useToggleLocalMute__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/sdk/useToggleLocalMute.tsx"),_providers_AudioVideoProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/providers/AudioVideoProvider/index.tsx"),_providers_DevicesProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/providers/DevicesProvider/index.tsx"),_providers_LoggerProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/providers/LoggerProvider/index.tsx"),_providers_MeetingProvider__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/providers/MeetingProvider/index.tsx"),_providers_VoiceFocusProvider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/providers/VoiceFocusProvider/index.tsx"),_utils_device_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils/device-utils.ts"),_utils_use_memo_compare__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/utils/use-memo-compare.ts"),_ui_ControlBar_ControlBarButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/ui/ControlBar/ControlBarButton.tsx"),_ui_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/ui/icons/index.tsx"),_ui_PopOver_PopOverItem__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/ui/PopOver/PopOverItem.tsx"),_ui_PopOver_PopOverSeparator__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/ui/PopOver/PopOverSeparator.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/jsx-runtime.js");const AudioInputVFControl=({muteLabel="Mute",unmuteLabel="Unmute",mutedIconTitle,unmutedIconTitle,voiceFocusOnLabel="Amazon Voice Focus enabled",voiceFocusOffLabel="Enable Amazon Voice Focus",...rest})=>{const logger=(0,_providers_LoggerProvider__WEBPACK_IMPORTED_MODULE_6__.Ul)(),audioVideo=(0,_providers_AudioVideoProvider__WEBPACK_IMPORTED_MODULE_4__.n3)(),meetingManager=(0,_providers_MeetingProvider__WEBPACK_IMPORTED_MODULE_7__.GY)(),[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[isVoiceFocusChecked,setIsVoiceFocusChecked]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[isVoiceFocusEnabled,setIsVoiceFocusEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[dropdownWithVFOptions,setDropdownWithVFOptions]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),{muted,toggleMute}=(0,_hooks_sdk_useToggleLocalMute__WEBPACK_IMPORTED_MODULE_3__.a)(),{isVoiceFocusSupported,addVoiceFocus}=(0,_providers_VoiceFocusProvider__WEBPACK_IMPORTED_MODULE_8__.I)(),{devices,selectedDevice}=(0,_providers_DevicesProvider__WEBPACK_IMPORTED_MODULE_5__.xt)(),audioInputDevices=(0,_utils_use_memo_compare__WEBPACK_IMPORTED_MODULE_10__.A)(devices,((prev,next)=>lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(prev,next)));return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{logger.info(`Amazon Voice Focus is ${isVoiceFocusEnabled?"enabled":"disabled"}.`)}),[isVoiceFocusEnabled]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>(selectedDevice instanceof amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusTransformDevice?setIsVoiceFocusEnabled(!0):setIsVoiceFocusEnabled(!1),()=>{selectedDevice instanceof amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusTransformDevice&&selectedDevice.stop()})),[selectedDevice]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{audioVideo&&selectedDevice instanceof amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusTransformDevice&&isVoiceFocusEnabled&&selectedDevice.observeMeetingAudio(audioVideo)}),[audioVideo,isVoiceFocusEnabled,selectedDevice]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{(async()=>{const dropdownOptions=await Promise.all(audioInputDevices.map((async device=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_PopOver_PopOverItem__WEBPACK_IMPORTED_MODULE_13__.t,{checked:await(0,_utils_device_utils__WEBPACK_IMPORTED_MODULE_9__.GJ)(selectedDevice,device.deviceId),onClick:async()=>await(async deviceId=>{try{if(isVoiceFocusChecked&&!isLoading){setIsLoading(!0);const receivedDevice=deviceId,currentDevice=await addVoiceFocus(receivedDevice);await meetingManager.startAudioInputDevice(currentDevice)}else await meetingManager.startAudioInputDevice(deviceId)}catch(error){logger.error("AudioInputVFControl failed to select audio input device")}finally{setIsLoading(!1)}})(device.deviceId),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("span",{children:device.label})},device.deviceId))));if(isVoiceFocusSupported){const vfOption=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_PopOver_PopOverItem__WEBPACK_IMPORTED_MODULE_13__.t,{checked:isVoiceFocusEnabled,disabled:isLoading,onClick:()=>{setIsLoading(!0),setIsVoiceFocusChecked((current=>!current))},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[isLoading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_icons__WEBPACK_IMPORTED_MODULE_12__.y$,{width:"1.5rem",height:"1.5rem"}),isVoiceFocusEnabled?voiceFocusOnLabel:voiceFocusOffLabel]})},"voicefocus");dropdownOptions?.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_PopOver_PopOverSeparator__WEBPACK_IMPORTED_MODULE_14__.A,{},"separator")),dropdownOptions?.push(vfOption)}setDropdownWithVFOptions(dropdownOptions)})()}),[addVoiceFocus,meetingManager,meetingManager.startAudioInputDevice,audioInputDevices,isLoading,isVoiceFocusEnabled,isVoiceFocusChecked,isVoiceFocusSupported,selectedDevice]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{(async()=>{if(selectedDevice){try{let current=selectedDevice;isVoiceFocusChecked?(logger.info("User turned on Amazon Voice Focus."),"string"==typeof selectedDevice&&(current=await addVoiceFocus(selectedDevice))):(logger.info("Amazon Voice Focus is off by default or user turned off Amazon Voice Focus."),selectedDevice instanceof amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusTransformDevice&&(current=selectedDevice.getInnerDevice())),await meetingManager.startAudioInputDevice(current)}catch(error){logger.error("AudioInputVFControl failed to select audio input device onVFCheckboxChange change")}setIsLoading(!1)}})()}),[isVoiceFocusChecked]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_ControlBar_ControlBarButton__WEBPACK_IMPORTED_MODULE_11__.T,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ui_icons__WEBPACK_IMPORTED_MODULE_12__.tm,{muted,mutedTitle:mutedIconTitle,unmutedTitle:unmutedIconTitle}),onClick:toggleMute,label:muted?unmuteLabel:muteLabel,...rest,children:dropdownWithVFOptions})};AudioInputVFControl.displayName="AudioInputVFControl";const __WEBPACK_DEFAULT_EXPORT__=AudioInputVFControl;try{AudioInputVFControl.displayName="AudioInputVFControl",AudioInputVFControl.__docgenInfo={description:"",displayName:"AudioInputVFControl",props:{muteLabel:{defaultValue:{value:"Mute"},description:"The label that will be shown when microphone is muted, it defaults to `Mute`.",name:"muteLabel",required:!1,type:{name:"string | undefined"}},unmuteLabel:{defaultValue:{value:"Unmute"},description:"The label that will be shown when microphone is unmuted, it defaults to `Unmute`.",name:"unmuteLabel",required:!1,type:{name:"string | undefined"}},mutedIconTitle:{defaultValue:null,description:"Title attribute for the icon when muted, it defaults to `Muted microphone` in <Microphone />.",name:"mutedIconTitle",required:!1,type:{name:"string | undefined"}},unmutedIconTitle:{defaultValue:null,description:"Title attribute for the icon when unmuted, it defaults to `Microphone` in <Microphone />.",name:"unmutedIconTitle",required:!1,type:{name:"string | undefined"}},voiceFocusOnLabel:{defaultValue:{value:"Amazon Voice Focus enabled"},description:"The label that will be shown when the current input audio is an Amazon Voice Focus device,\nit defaults to `Amazon Voice Focus enabled`.",name:"voiceFocusOnLabel",required:!1,type:{name:"string | undefined"}},voiceFocusOffLabel:{defaultValue:{value:"Enable Amazon Voice Focus"},description:"The label that will be shown when the current input audio is not an Amazon Voice Focus device,\nit defaults to `Enable Amazon Voice Focus`.",name:"voiceFocusOffLabel",required:!1,type:{name:"string | undefined"}},css:{defaultValue:null,description:"Optional css",name:"css",required:!1,type:{name:"string | undefined"}},className:{defaultValue:null,description:"Optional class names to apply to the element",name:"className",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/sdk/MeetingControls/AudioInputVFControl.tsx#AudioInputVFControl"]={docgenInfo:AudioInputVFControl.__docgenInfo,name:"AudioInputVFControl",path:"src/components/sdk/MeetingControls/AudioInputVFControl.tsx#AudioInputVFControl"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/PopOver/PopOverSeparator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _Styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/PopOver/Styled.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const PopOverSeparator=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Styled__WEBPACK_IMPORTED_MODULE_1__.WL,{"data-testid":"popover-separator",...props});PopOverSeparator.displayName="PopOverSeparator";const __WEBPACK_DEFAULT_EXPORT__=PopOverSeparator;try{PopOverSeparator.displayName="PopOverSeparator",PopOverSeparator.__docgenInfo={description:"",displayName:"PopOverSeparator",props:{tag:{defaultValue:null,description:"Optional tag to render the component as a different HTML tag",name:"tag",required:!1,type:{name:"any"}},css:{defaultValue:null,description:"Optional css",name:"css",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/PopOver/PopOverSeparator.tsx#PopOverSeparator"]={docgenInfo:PopOverSeparator.__docgenInfo,name:"PopOverSeparator",path:"src/components/ui/PopOver/PopOverSeparator.tsx#PopOverSeparator"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/sdk/useToggleLocalMute.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>useToggleLocalMute});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_providers_AudioVideoProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/AudioVideoProvider/index.tsx");function useToggleLocalMute(){const audioVideo=(0,_providers_AudioVideoProvider__WEBPACK_IMPORTED_MODULE_1__.n3)(),[muted,setMuted]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>audioVideo?.realtimeIsLocalAudioMuted()||!1));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const muteUnmutecallback=localMuted=>{setMuted(localMuted)};return audioVideo?.realtimeSubscribeToMuteAndUnmuteLocalAudio(muteUnmutecallback),setMuted(audioVideo?.realtimeIsLocalAudioMuted()||!1),()=>{audioVideo?.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(muteUnmutecallback)}}),[audioVideo]);const toggleMute=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{muted?audioVideo?.realtimeUnmuteLocalAudio():audioVideo?.realtimeMuteLocalAudio()}),[muted,audioVideo]);return{muted,toggleMute}}},"./src/providers/VoiceFocusProvider/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>VoiceFocusProvider,I:()=>useVoiceFocus});var amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/amazon-chime-sdk-js/build/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_utils_use_memo_compare__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/use-memo-compare.ts"),_LoggerProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/providers/LoggerProvider/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const VoiceFocusContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null),VoiceFocusProvider=({spec,options,createMeetingResponse,children})=>{const logger=(0,_LoggerProvider__WEBPACK_IMPORTED_MODULE_3__.Ul)(),[isVoiceFocusSupported,setIsVoiceFocusSupported]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0),[voiceFocusDevice,setVoiceFocusDevice]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[voiceFocusTransformer,setVoiceFocusTransformer]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),vfSpec=(0,_utils_use_memo_compare__WEBPACK_IMPORTED_MODULE_2__.A)(spec,((prev,next)=>{if(Object.is(prev,next)||JSON.stringify(prev)===JSON.stringify(next))return!0;const isPrevEmpty=void 0===prev||prev&&0===Object.keys(prev).length,isNextEmpty=void 0===next||next&&0===Object.keys(next).length;return!(!isPrevEmpty||!isNextEmpty)}));let currentPromise;async function initVoiceFocus(vfSpec,options,canceled,createMeetingResponse){voiceFocusDevice?.stop(),voiceFocusTransformer&&amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusDeviceTransformer.destroyVoiceFocus(voiceFocusTransformer),setVoiceFocusTransformer(null),setVoiceFocusDevice(null),async function createVoiceFocusDeviceTransformer(spec,options,canceled,createMeetingResponse){const fetch=amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusDeviceTransformer.create(spec,options,void 0,createMeetingResponse);return fetch.then((transformer=>{canceled()||(currentPromise=void 0,setVoiceFocusTransformer(transformer),setVoiceFocusDevice(null),setIsVoiceFocusSupported(transformer&&transformer.isSupported()))})).catch((()=>{canceled()||(currentPromise=void 0,setVoiceFocusTransformer(null),setVoiceFocusDevice(null),setIsVoiceFocusSupported(!1))})),currentPromise=fetch}(vfSpec,options,canceled,createMeetingResponse)}(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{let canceled=!1;return createMeetingResponse&&initVoiceFocus(vfSpec,options,(()=>canceled),createMeetingResponse),()=>{canceled=!0}}),[vfSpec,options,createMeetingResponse]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{void 0!==isVoiceFocusSupported&&(isVoiceFocusSupported?logger.info("Amazon Voice Focus is supported."):logger.warn("Amazon Voice Focus is not supported."))}),[isVoiceFocusSupported]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(voiceFocusDevice&&logger.info(`Current Amazon Voice Focus transform device: ${voiceFocusDevice}`),()=>{voiceFocusDevice?(logger.info("Destroying voice focus device : "+JSON.stringify(voiceFocusDevice)),voiceFocusDevice?.stop()):logger.info("Voice focus device doesn't exist")})),[voiceFocusDevice]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>()=>{voiceFocusTransformer?(amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.VoiceFocusDeviceTransformer.destroyVoiceFocus(voiceFocusTransformer),logger.info("Destroying voice focus transformer : "+JSON.stringify(voiceFocusTransformer))):logger.info("VoiceFocusTransformer doesn't exist")}),[voiceFocusTransformer]);const value={isVoiceFocusSupported,addVoiceFocus:async device=>{if(logger.info(`Add Amazon Voice Focus to the following audio input device ${device}`),!isVoiceFocusSupported)return logger.debug("Not supported, not creating device."),device;try{const transformer=await async function getVoiceFocusDeviceTransformer(){if(voiceFocusTransformer)return voiceFocusTransformer;return currentPromise}(),vf=await(transformer?.createTransformDevice(device));if(vf)return logger.info("Created a new Amazon Voice Focus transform device."),setVoiceFocusDevice(vf),vf}catch(e){logger.error(`Amazon Voice Focus is not supported. ${e}`)}return device}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(VoiceFocusContext.Provider,{value,children})};VoiceFocusProvider.displayName="VoiceFocusProvider";const useVoiceFocus=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(VoiceFocusContext);if(!context)throw new Error("useVoiceFocus must be used within VoiceFocusProvider");return context};try{VoiceFocusProvider.displayName="VoiceFocusProvider",VoiceFocusProvider.__docgenInfo={description:"",displayName:"VoiceFocusProvider",props:{spec:{defaultValue:null,description:"Determines how you want Amazon Voice Focus to behave. This spec is used to derive a runtime configuration when a transformer is created.",name:"spec",required:!1,type:{name:"VoiceFocusSpec | undefined"}},options:{defaultValue:null,description:"A set of options that can be supplied when creating an Amazon Voice Focus device.\nFor more info, you can go to https://aws.github.io/amazon-chime-sdk-js/interfaces/voicefocusdeviceoptions.html",name:"options",required:!1,type:{name:"VoiceFocusDeviceOptions | undefined"}},createMeetingResponse:{defaultValue:null,description:"Optional features like Amazon Chime Echo Reduction capability is enabled at the meeting level when CreateMeeting is called.",name:"createMeetingResponse",required:!1,type:{name:"JoinMeetingInfo | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/providers/VoiceFocusProvider/index.tsx#VoiceFocusProvider"]={docgenInfo:VoiceFocusProvider.__docgenInfo,name:"VoiceFocusProvider",path:"src/providers/VoiceFocusProvider/index.tsx#VoiceFocusProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/device-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>isPrevNextUndefined,GJ:()=>isOptionActive,IP:()=>getDeviceId,Sl:()=>isPrevNextEmpty});var amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/amazon-chime-sdk-js/build/index.js");const isOptionActive=async(selectedDevice,currentDeviceId)=>await getDeviceId(selectedDevice)===currentDeviceId,getDeviceId=async device=>{if(!device)return"";let intrinsicDevice;intrinsicDevice=(0,amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.isAudioTransformDevice)(device)||(0,amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.isVideoTransformDevice)(device)?await device.intrinsicDevice():device;return amazon_chime_sdk_js__WEBPACK_IMPORTED_MODULE_0__.DefaultDeviceController.getIntrinsicDeviceId(intrinsicDevice)};function isPrevNextUndefined(prev,next){return void 0===prev&&void 0===next}function isPrevNextEmpty(prev,next){const isPrevEmpty=prev&&0===Object.keys(prev).length,isNextEmpty=next&&0===Object.keys(next).length;return isPrevEmpty&&isNextEmpty}},"./src/utils/use-memo-compare.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useMemoCompare(next,compare){const previousRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),previous=previousRef.current,isEqual=compare(previous,next);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{isEqual||(previousRef.current=next)})),isEqual?previous:next}},"./src/components/sdk/MeetingControls/docs/AudioInputVFControl.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_amazon_chime_sdk_component_library_react_amazon_chime_sdk_component_library_react_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_AudioInputVFControl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/sdk/MeetingControls/AudioInputVFControl.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",pre:"pre",h3:"h3",ul:"ul",li:"li"},(0,_home_runner_work_amazon_chime_sdk_component_library_react_amazon_chime_sdk_component_library_react_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.RP)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.W8,{title:"SDK Components/MeetingControls/AudioInputVFControl"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"audioinputvfcontrol",children:"AudioInputVFControl"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"AudioInputVFControl"})," component renders a ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ControlBarButton"})," with pop over menu options to select through multiple audio input options,\nand provides the option of Amazon Voice Focus on the bottom. This component must be used within ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"VoiceFocusProvider"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"MeetingProvider"}),".\nMake sure you have set ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"enableWebAudio"})," as ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"true"})," in the meeting config or Amazon Voice Focus feature won't work."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"When you click the device button, the local audio input toggles between muted/unmuted state. When you click Amazon Voice Focus button,\nAmazon Voice Focus feature toggles between on/off state."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["If you want to apply Amazon Voice Focus feature, try this ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"AudioInputVFControl"}),". If not, ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"AudioInputControl"})," is a better choice."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["You can use it in the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"/docs/ui-components-controlbar--page",children:"ControlBar component"})," to build the meeting controls bar."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"importing",children:"Importing"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-javascript",children:"import { AudioInputVFControl } from 'amazon-chime-sdk-component-library-react';\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"joinInfo"})," here is the response of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://docs.aws.amazon.com/chime-sdk/latest/APIReference/API_CreateMeeting.html",target:"_blank",rel:"nofollow noopener noreferrer",children:"CreateMeeting"}),"\nfrom  ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://docs.aws.amazon.com/chime-sdk/latest/dg/meeting-namespace-migration.html",target:"_blank",rel:"nofollow noopener noreferrer",children:"Amazon Chime SDK Meetings endpoint"}),".\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"joinInfo"})," is needed here so as to decide whether download Voice Focus or Echo Reduction model according to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"CreatingMeetingResponse"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:"import React from 'react';\nimport {\n  MeetingProvider,\n  VoiceFocusProvider,\n  AudioInputVFControl,\n} from 'amazon-chime-sdk-component-library-react';\n\nconst enableWebAudio = true;\nconst meetingConfig = { enableWebAudio };\nconst joinInfo = { Meeting: {} }\n\nfunction voiceFocusName(name: string): VoiceFocusModelName {\n  if (name && ['default', 'ns_es'].includes(name)) {\n    return name as VoiceFocusModelName;\n  }\n  return 'default';\n}\n\nfunction getVoiceFocusSpecName(): VoiceFocusModelName {\n  if (\n    joinInfo && \n    joinInfo.Meeting?.MeetingFeatures?.Audio?.EchoReduction === 'AVAILABLE'\n  ) {\n    return voiceFocusName('ns_es');\n  }\n  return voiceFocusName('default');\n}\n\nconst vfConfigValue = {\n  spec: {name: getVoiceFocusSpecName()},\n  createMeetingResponse: joinInfo,\n};\n\nconst App = () => {\n  return (\n    <VoiceFocusProvider {...vfConfigValue}>\n      <MeetingProvider {...meetingConfig}>\n        <AudioInputVFControl />\n      </MeetingProvider>\n    </VoiceFocusProvider>\n  );\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"props",children:"Props"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.ov,{of:_AudioInputVFControl__WEBPACK_IMPORTED_MODULE_2__.A}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"MeetingProvider"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"VoiceFocusProvider"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"useToggleLocalMute"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"useAudioInputs"})}),"\n"]})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_amazon_chime_sdk_component_library_react_amazon_chime_sdk_component_library_react_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.RP)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./node_modules/memoizerific sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/memoizerific sync recursive",module.exports=webpackEmptyContext}}]);